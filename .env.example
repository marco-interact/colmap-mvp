# COLMAP Worker Configuration for Northflank
# Reference: https://northflank.com/docs/v1/application/gpu-workloads/configure-and-optimise-workloads-for-gpus

# Server Configuration
PORT=8080

# GPU Configuration (Northflank GPU Workload Settings)
# Set to false for GPU instances, true for CPU-only
COLMAP_CPU_ONLY=false
CUDA_VISIBLE_DEVICES=0
NVIDIA_VISIBLE_DEVICES=all
NVIDIA_DRIVER_CAPABILITIES=compute,utility

# Storage Configuration (Northflank Persistent Volumes)
# Use /app/data for database and results when using persistent volumes
DATABASE_PATH=/app/data/colmap_app.db
STORAGE_DIR=/app/data/results
CACHE_DIR=/app/cache

# Processing Configuration
# Adjust based on GPU type (T4, L4, A10G, etc.)
MAX_FRAMES_LOW=30
MAX_FRAMES_MEDIUM=50
MAX_FRAMES_HIGH=100
PROCESSING_TIMEOUT=3600

# Worker Configuration
# Balance based on GPU memory (T4: 16GB, L4: 24GB, A10G: 24GB)
MAX_CONCURRENT_JOBS=4
MAX_REQUESTS_PER_MINUTE=20

# Application URLs (Set in Northflank)
FRONTEND_URL=https://your-frontend.northflank.app
WORKER_URL=https://your-worker.northflank.app
